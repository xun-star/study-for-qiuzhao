GoF23种设计模式分为三大类

* 创建型
* 结构型
* 行为型

工厂模式是解决对象创建问题的，所以它属于创建型

## 工厂模式的三种形态

* 简单工厂模式：又叫做静态工厂方法模式，简单工厂模式是工厂方法模式的一种特殊实现
* 工厂方法模式
* 抽象工厂模式

# 简单工厂模式

简单工厂模式中有三个角色：

* 抽象产品角色
  * 武器类：有攻击行为
* 具体产品角色
  * 枪，战斗机，继承武器类，就有了攻击行为
* 工厂类角色
  * 根据不同的武器类型，生产武器

简单工厂模式的优点：

* 客户端程序不需要关心对象的创建细节，需要哪个对象时，只需要向工厂索要即可，初步实现了责任的分离。客户端只负责“消费”，工厂负责“生产”。生产和消费分离。

简单工厂模式的缺点：

- 缺点1：工厂类集中了所有产品的创造逻辑，形成一个无所不知的全能类，有人把它叫做上帝类。显然工厂类非常关键，不能出问题，一旦出问题，整个系统瘫痪。
- 缺点2：不符合OCP开闭原则，在进行系统扩展时，需要修改工厂类。

**Spring中的BeanFactory就使用了简单工厂模式。**

# 工厂方法模式

工厂方法模式既保留了简单工厂模式的优点，同时又解决了简单工厂模式的缺点。

工厂方法模式包含四个角色

* 抽象工厂角色
  * 武器工厂接口，内含接口
* 具体工厂角色
  * 生产特定武器的工厂
* 抽象产品角色
  * 武器类：都有攻击行为
* 具体产品角色
  * 枪，战斗机，继承武器类，拥有攻击行为

优点：

- 一个调用者想创建一个对象，只要知道其名称就可以了。 
- 扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。
- 屏蔽产品的具体实现，调用者只关心产品的接口。

缺点：

- 每次增加一个产品时，都需要增加一个具体类和对象实现工厂，使得系统中类的个数成倍增加，在一定程度上增加了系统的复杂度，同时也增加了系统具体类的依赖。这并不是什么好事。